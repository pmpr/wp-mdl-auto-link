<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             680567ac95109             |
    |_______________________________________|
*/
 namespace Pmpr\Module\AutoLink; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Module\AutoLink\Model\Destination; use Pmpr\Module\AutoLink\Model\Phrase; use Pmpr\Module\AutoLink\Model\Score; use Pmpr\Module\AutoLink\Model\Source; use Pmpr\Module\AutoLink\Traits\EngineTrait; class Hook extends Container { use EngineTrait; public function wigskegsqequoeks() { $this->qcsmikeggeemccuu(Process::cgkmwmkumwacaciy, [$this, 'cysqwocigwyquqas'])->qcsmikeggeemccuu(Process::aeukmokmyqieyoyi, [$this, 'uoukcoigccuuueis'])->qcsmikeggeemccuu(Process::komoaguywaaqogiq, [$this, 'cwyiuucckakmikwu'], 10, 3); $this->qcsmikeggeemccuu(Process::kuugiagygqgukose, [$this, 'xakqayiouccogesq'])->qcsmikeggeemccuu(Process::msymaagmgciiwsio, [$this, 'kkkagmkmywauciaq']); $this->qcsmikeggeemccuu(Process::ceakkseeaymqsiww, [$this, 'yuwcssyegmkucygg'])->qcsmikeggeemccuu(Process::ciucekyeyimqauey, [$this, 'wiwscgaowqmmkosu'], 10, 2); $this->qcsmikeggeemccuu('admin_init', [$this, 'init'])->qcsmikeggeemccuu('edit_term', [$this, 'gmiuouymkmiwuouw'])->qcsmikeggeemccuu('create_term', [$this, 'gmiuouymkmiwuouw'])->qcsmikeggeemccuu('delete_term', [$this, 'swoqwoekwmcwcsos'])->qcsmikeggeemccuu('deleted_post', [$this, 'ukqieeemykgisiic'])->qcsmikeggeemccuu('save_post', [$this, 'sgmieuaqmigueiqg'], 10, 2); } public function kgquecmsgcouyaya() { $this->cecaguuoecmccuse('the_content', [$this, 'iqmiseecmyaeewmm'], 10, 2)->cecaguuoecmccuse('term_description', [$this, 'eiwakaiyeuiosyyk'], 10, 2); } public function init() { Process::symcgieuakksimmu()->ueeawkkuakgsiocm(); Process::symcgieuakksimmu()->acisuowoiagowgiy(); } public function ukqieeemykgisiic($gcqseksiskwueksc) { if (!$gcqseksiskwueksc) { return; } $this->umqkeskoqgmsweyk($gcqseksiskwueksc, Constants::mswoacegomcucaik); } public function sgmieuaqmigueiqg($gcqseksiskwueksc, $post = null) { if (!$gcqseksiskwueksc || $this->caokeucsksukesyo()->owicscwgeuqcqaig()->somkqoqeimmeemuq()) { return; } $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); $useksmwkuswkwcqg = $seumokooiykcomco->gueasuouwqysmomu($post); if (in_array($useksmwkuswkwcqg, [Constants::bomqmggswugkayyk, Constants::cqycgsyykemiygou], true) || !$seumokooiykcomco->yaacqmguuiqwoqay($post)) { return; } Process::symcgieuakksimmu()->ccqkcgymaweekqim($gcqseksiskwueksc, Constants::mswoacegomcucaik); } public function swoqwoekwmcwcsos($ucicuwcaawugkseg) { $this->umqkeskoqgmsweyk($ucicuwcaawugkseg, Constants::yoayaissyomokiui); } public function gmiuouymkmiwuouw($ucicuwcaawugkseg) { if (!$ucicuwcaawugkseg) { return; } Process::symcgieuakksimmu()->ccqkcgymaweekqim($ucicuwcaawugkseg, Constants::yoayaissyomokiui); } private function umqkeskoqgmsweyk($moqewomugocaueis, $mqyaskyaekmkegmg) { if (!$moqewomugocaueis || !$mqyaskyaekmkegmg) { return; } $wwasomqkkiqscsgs = Destination::symcgieuakksimmu(); $muowmkwsoauukiag = $wwasomqkkiqscsgs->iekyeyicoyyawomk()->oqomcmyuuakigusk($this->caokeucsksukesyo()->skckwsgymkimyuwo()->gwumowwouoisykio([Constants::eggygikowgywcayq => $moqewomugocaueis, Constants::wwcycgyaiaksckuk => $mqyaskyaekmkegmg])); if ($muowmkwsoauukiag) { $wwasomqkkiqscsgs->gssiscqyqsacmeca()->sgcuwcowgwimgsgk($wwasomqkkiqscsgs->mwyqswsaeeewsosm($muowmkwsoauukiag), true); } } public function yuwcssyegmkucygg() { $this->uykissogmuaaocsg()->ymaaauwkcsmgqoic(); } public function wiwscgaowqmmkosu($moqewomugocaueis = null, $mqyaskyaekmkegmg = null) { if (!$moqewomugocaueis || !$mqyaskyaekmkegmg) { return; } $this->uykissogmuaaocsg()->ukkqgmomeycaeaey($moqewomugocaueis, $mqyaskyaekmkegmg); } public function iqmiseecmyaeewmm($ewgwqamkygiqaawc) { global $post; static $oeekiqewiquqiuqw = false; if ($post && !$oeekiqewiquqiuqw) { $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); $uakimmeaecyoyccu = []; if ($gcqseksiskwueksc = $seumokooiykcomco->iooowgsqoyqseyuu($post, true)) { $oeekiqewiquqiuqw = true; $acqqmqmcquukaqsc = $this->uykissogmuaaocsg()->uosumyqkueiykgiu(Constants::iocouekmygsaocuo, $seumokooiykcomco->gueasuouwqysmomu($post), true); if ($acqqmqmcquukaqsc) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $amccoggygucuuiua = Score::symcgieuakksimmu(); $mkcymmgyaiqcqqms = Source::symcgieuakksimmu(); $qewwaqmimwcwiakq = Phrase::symcgieuakksimmu(); $wwasomqkkiqscsgs = Destination::symcgieuakksimmu(); $awymsqoomwemoygk = [Constants::sgiwkasmqqockceq => '0.9', Constants::MEDIUM => '0.75', Constants::ymugckeogmscmacc => '0.6']; $gcsiikksyoeosogw = (int) $this->weysguygiseoukqw(Setting::ciccwiwogecsgwuy, 3); $muowmkwsoauukiag = $this->uykissogmuaaocsg()->qawoscykuqkcagws($gcqseksiskwueksc, Constants::mswoacegomcucaik); $xmiqmguyioaoqsaq = $wwasomqkkiqscsgs->mwyqswsaeeewsosm($muowmkwsoauukiag); foreach ($acqqmqmcquukaqsc as $ekuqiqmikiicgoss) { $qwwuweqkkiikksks = $ekuqiqmikiicgoss[Setting::cgqecaaeyyesqgmq] ?? Source::yawkygsammoiwywe; $sgogguaosagcseic = $qwwuweqkkiikksks === Source::yawkygsammoiwywe; $kgsmgousomgoamqe = $ekuqiqmikiicgoss[Constants::gygsikewooaciecc] ?? []; $sqeymaimcayicmcc = $awymsqoomwemoygk[$ekuqiqmikiicgoss[Setting::cyowccmqmwseceww]] ?? '0.9'; $gqgemcmoicmgaqie = $eqwoegegiamegqsm->kyckwuuiqwmyoqma()->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->owackeyiuiikegqg()->ggmcoioqwgyccyus()->sokmmiiuyqiuoqia($mkcymmgyaiqcqqms::icqsuoqewygciosa))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->owackeyiuiikegqg()->ggmcoioqwgyccyus()->sokmmiiuyqiuoqia($qewwaqmimwcwiakq::iukymyausumiugqk)->asumqyigwsqmyeoc($qewwaqmimwcwiakq))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->owackeyiuiikegqg($amccoggygucuuiua->myywwqkyiwawwquy($amccoggygucuuiua::uoyosewemacawcmg), $amccoggygucuuiua::uoyosewemacawcmg)->ggmcoioqwgyccyus()->asumqyigwsqmyeoc($amccoggygucuuiua))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim($mkcymmgyaiqcqqms->myywwqkyiwawwquy($mkcymmgyaiqcqqms::uoyosewemacawcmg), $xmiqmguyioaoqsaq))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim($amccoggygucuuiua->myywwqkyiwawwquy($amccoggygucuuiua::uoyosewemacawcmg), $xmiqmguyioaoqsaq)->maqiysyuqmwcqoig('!='))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Score::skgkcgewayieuwsk, $sqeymaimcayicmcc)->maqiysyuqmwcqoig('>=')->kgyigewyuumysume())->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, $qwwuweqkkiikksks))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim($wwasomqkkiqscsgs->myywwqkyiwawwquy(Constants::squoamkioomemiyi), $kgsmgousomgoamqe))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->owogyemaccuymycq($amccoggygucuuiua::skgkcgewayieuwsk)->yogqsokgsqemsuoq()->kgyigewyuumysume())->yockscoguugkeumq(Constants::IDENTIFIER)->omaeiiwasuqkeeak(Constants::IDENTIFIER)->omaeiiwasuqkeeak($amccoggygucuuiua->ssakwymwgcwsqswc(Constants::MAX, $amccoggygucuuiua::skgkcgewayieuwsk), true)->omaeiiwasuqkeeak($mkcymmgyaiqcqqms->ssakwymwgcwsqswc(Constants::MAX, $mkcymmgyaiqcqqms::umyomemqwccgmuki), true)->omaeiiwasuqkeeak($wwasomqkkiqscsgs->ssakwymwgcwsqswc(Constants::MAX, Constants::squoamkioomemiyi), true)->omaeiiwasuqkeeak($wwasomqkkiqscsgs->ssakwymwgcwsqswc(Constants::MAX, Constants::eggygikowgywcayq), true)->omaeiiwasuqkeeak($wwasomqkkiqscsgs->ssakwymwgcwsqswc(Constants::MAX, Constants::wwcycgyaiaksckuk), true); $oseqkueswiwsceis = $mkcymmgyaiqcqqms->iekyeyicoyyawomk()->cieaqygkucwoqwke($gqgemcmoicmgaqie); if ($oseqkueswiwsceis) { $sqsyqsscqaauwyyy = []; foreach ($oseqkueswiwsceis as $egsumesakcaaukem) { $gqumacwamusueoqa = $mkcymmgyaiqcqqms->waecsyqmwascmqoa($egsumesakcaaukem, $mkcymmgyaiqcqqms::umyomemqwccgmuki, 0); if ($gqumacwamusueoqa > 0) { if (isset($sqsyqsscqaauwyyy[$gqumacwamusueoqa]) && $sqsyqsscqaauwyyy[$gqumacwamusueoqa] >= $gcsiikksyoeosogw) { continue; } if (!isset($sqsyqsscqaauwyyy[$gqumacwamusueoqa])) { $sqsyqsscqaauwyyy[$gqumacwamusueoqa] = 0; } $sqsyqsscqaauwyyy[$gqumacwamusueoqa]++; } $owqaeesoaygymmcy = $mkcymmgyaiqcqqms->waecsyqmwascmqoa($egsumesakcaaukem, Constants::IDENTIFIER); $moqewomugocaueis = $mkcymmgyaiqcqqms->waecsyqmwascmqoa($egsumesakcaaukem, Constants::eggygikowgywcayq); $mqyaskyaekmkegmg = $wwasomqkkiqscsgs->ogegcqqcukiaqscy(Constants::wwcycgyaiaksckuk, $egsumesakcaaukem); if ($mqyaskyaekmkegmg && $moqewomugocaueis) { if (isset($uakimmeaecyoyccu[$mqyaskyaekmkegmg][$moqewomugocaueis])) { continue; } if ($sgogguaosagcseic) { $meqocwsecsywiiqs = $migiiksoiymissge = ''; switch ($mqyaskyaekmkegmg) { case Constants::mswoacegomcucaik: $meqocwsecsywiiqs = $seumokooiykcomco->qcgakseyaikigqco($moqewomugocaueis); $migiiksoiymissge = $seumokooiykcomco->ycqquoiyyuesegsy($moqewomugocaueis); break; case Constants::yoayaissyomokiui: $aoskwucuugeuaeus = $this->caokeucsksukesyo()->kckogqkiycqeumoa(); $meqocwsecsywiiqs = $aoskwucuugeuaeus->qcgakseyaikigqco($moqewomugocaueis); $migiiksoiymissge = $aoskwucuugeuaeus->qmgcisuuikgmqcsu($moqewomugocaueis); break; } if ($meqocwsecsywiiqs && $migiiksoiymissge) { $uakimmeaecyoyccu[$mqyaskyaekmkegmg][$moqewomugocaueis] = true; $ewgwqamkygiqaawc = preg_replace('/<strong\\s+([^>]*?data-identify="' . $owqaeesoaygymmcy . '"[^>]*)>(.*?)<\\/strong>/i', $swqimwqeweekeusq->yuawgssgauywkiia('$2', $migiiksoiymissge, ['data-score' => $amccoggygucuuiua->waecsyqmwascmqoa($egsumesakcaaukem, $amccoggygucuuiua::skgkcgewayieuwsk, 0), 'data-identify' => $owqaeesoaygymmcy], $meqocwsecsywiiqs), $ewgwqamkygiqaawc); } } else { $sqeykgyoooqysmca = $wwasomqkkiqscsgs->waecsyqmwascmqoa($egsumesakcaaukem, Constants::squoamkioomemiyi); $qookweymeqawmcwo = [Constants::eggygikowgywcayq => $moqewomugocaueis]; switch ($sqeykgyoooqysmca) { case Constants::oguseymmyyoyaako: $qookweymeqawmcwo[Constants::oguseymmyyoyaako] = $this->caokeucsksukesyo()->aqasygcsqysmmyke()->get($moqewomugocaueis); break; default: $qookweymeqawmcwo[$sqeykgyoooqysmca] = $this->caokeucsksukesyo()->ayueggmoqeeukqmq()->get($moqewomugocaueis); break; } $nsmgceoqaqogqmuw = $this->iuygowkemiiwqmiw("none_contentful/{$sqeykgyoooqysmca}", $qookweymeqawmcwo, [Constants::qaacaqioeyiuakeu => false, Constants::wikgqsqysyuoykse => 'none_contentful/index']); if ($nsmgceoqaqogqmuw) { $eouekqmooogkoqoo = '/(<h2[^>]*data-identify="' . preg_quote($owqaeesoaygymmcy, '/') . '"[^>]*>.*?<\\/h2>)(.*?)(?=<h2[^>]*data-identify=|$)/is'; $umwesmmqyeaoecii = preg_replace_callback($eouekqmooogkoqoo, static function ($meyiiwcswqmuggyg) use($nsmgceoqaqogqmuw) { return $meyiiwcswqmuggyg[1] . $meyiiwcswqmuggyg[2] . $nsmgceoqaqogqmuw; }, $ewgwqamkygiqaawc); if ($umwesmmqyeaoecii) { $uakimmeaecyoyccu[$mqyaskyaekmkegmg][$moqewomugocaueis] = true; $ewgwqamkygiqaawc = $umwesmmqyeaoecii; } } } } } } } } } } return $ewgwqamkygiqaawc; } public function eiwakaiyeuiosyyk($ukwokcuqauuosmoo, $ucicuwcaawugkseg = 0) { return $ukwokcuqauuosmoo; } public function uoukcoigccuuueis() { Process::symcgieuakksimmu()->scwmiaoyuuuuocwq(1); } public function cysqwocigwyquqas($suaemuyiacqyugsm) { if ($suaemuyiacqyugsm > 0) { $wwasomqkkiqscsgs = Destination::symcgieuakksimmu(); $sogksuscggsicmac = $wwasomqkkiqscsgs->iekyeyicoyyawomk()->aeggeuqycwawueqy($wwasomqkkiqscsgs->iekyeyicoyyawomk()->gqaysymikgeawkqa(), [Constants::imywcsggckkcywgk => $suaemuyiacqyugsm, Constants::ausqeuugegoygouq => 20]); $kgsmgousomgoamqe = $sogksuscggsicmac[Constants::qwumqqyuasyskkkc] ?? []; if ($kgsmgousomgoamqe) { foreach ($kgsmgousomgoamqe as $muowmkwsoauukiag) { $this->uykissogmuaaocsg()->cysqwocigwyquqas($muowmkwsoauukiag, 1); } if (!$this->caokeucsksukesyo()->asgqmkcukouykiie()->iyiccksyewqymmqg($sogksuscggsicmac, $suaemuyiacqyugsm)) { Process::symcgieuakksimmu()->scwmiaoyuuuuocwq($suaemuyiacqyugsm + 1); } } } } public function cwyiuucckakmikwu($xmiqmguyioaoqsaq, $suaemuyiacqyugsm, bool $goyamqigsmqwymmg = false) { $this->uykissogmuaaocsg()->cysqwocigwyquqas($xmiqmguyioaoqsaq, $suaemuyiacqyugsm, $goyamqigsmqwymmg); } public function kkkagmkmywauciaq() { Process::symcgieuakksimmu()->aumyuyqcwugweioq(1); } public function xakqayiouccogesq($suaemuyiacqyugsm) { if ($suaemuyiacqyugsm > 0) { $wwasomqkkiqscsgs = Destination::symcgieuakksimmu(); $sogksuscggsicmac = $wwasomqkkiqscsgs->iekyeyicoyyawomk()->aeggeuqycwawueqy($wwasomqkkiqscsgs->iekyeyicoyyawomk()->gqaysymikgeawkqa(), [Constants::imywcsggckkcywgk => $suaemuyiacqyugsm, Constants::ausqeuugegoygouq => 20]); $kgsmgousomgoamqe = $sogksuscggsicmac[Constants::qwumqqyuasyskkkc] ?? []; foreach ($kgsmgousomgoamqe as $muowmkwsoauukiag) { $this->uykissogmuaaocsg()->xakqayiouccogesq($wwasomqkkiqscsgs->mwyqswsaeeewsosm($muowmkwsoauukiag)); } if (!$this->caokeucsksukesyo()->asgqmkcukouykiie()->iyiccksyewqymmqg($sogksuscggsicmac, $suaemuyiacqyugsm)) { Process::symcgieuakksimmu()->aumyuyqcwugweioq($suaemuyiacqyugsm + 1); } } } }
